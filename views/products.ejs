<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My Products</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

  <%- include('partials/seller-navbar.ejs') %>

 <div class="container mt-5">
  <h3 class="mb-3">All Products by You</h3>

  <% if (products.length === 0) { %>
    <div class="alert alert-info text-center">
      You haven‚Äôt listed any products yet.
    </div>
  <% } else { %>
    <table class="table table-bordered table-hover align-middle">
      <thead class="table-dark">
        <tr>
          <th>#</th>
          <th>Image</th>
          <th>Name</th>
          <th>Description</th>
          <th>Price</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <% products.forEach((product, i) => { %>
          <tr>
            <td><%= i + 1 %></td>
            <td style="width: 120px;">
              <img 
                src="<%= product.image_url ? product.image_url : 'https://placehold.co/100x100?text=No+Image' %>" 
                alt="<%= product.name %>" 
                style="width: 100px; height: 100px; object-fit: cover; border-radius: 8px;">
            </td>
            <td><%= product.name %></td>
            <td><%= product.description %></td>
            <td>‚Çπ<%= product.price %></td>
            <td>
              <a href="/seller/edit-product/<%= product.id %>" class="btn btn-sm btn-warning">
                ‚úè Edit
              </a>
              <form action="/seller/delete-product/<%= product.id %>" method="POST" class="d-inline">
                <button type="submit" class="btn btn-sm btn-danger" onclick="return confirm('Are you sure you want to delete this product?')">
                  üóë Delete
                </button>
              </form>
            </td>
          </tr>
        <% }) %>
      </tbody>
    </table>
  <% } %>
</div>

</body>
</html>
